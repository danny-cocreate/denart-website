---
import { getCollection } from 'astro:content';
import ServiceLayout from '../../layouts/ServiceLayout.astro';

export async function getStaticPaths() {
	const services = await getCollection('services');
	return services.map((service) => ({
		params: { slug: service.slug },
		props: { service },
	}));
}

const { service } = Astro.props;
const { Content } = await service.render();
---

<ServiceLayout title={service.data.title} description={service.data.description}>
	<article class="max-w-4xl mx-auto py-12 px-6">
		<h1 class="text-4xl font-bold text-gray-800 mb-4">{service.data.title}</h1>
		{service.data.image && (
			<img src={service.data.image} alt={service.data.title} class="w-full h-64 object-cover rounded-lg mb-6" />
		)}
		<div class="prose prose-lg max-w-none">
			<Content />
		</div>
	</article>
</ServiceLayout>
