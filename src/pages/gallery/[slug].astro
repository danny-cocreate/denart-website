---
import { getCollection } from 'astro:content';
import GalleryLayout from '../../layouts/GalleryLayout.astro';

export async function getStaticPaths() {
	const items = await getCollection('gallery');
	return items.map((item) => ({
		params: { slug: item.slug },
		props: { item },
	}));
}

const { item } = Astro.props;
const { Content } = await item.render();
---

<GalleryLayout title={`${item.data.title} | Gallery`} description={item.data.description}>
	<article class="max-w-4xl mx-auto py-12 px-6">
		<h1 class="text-4xl font-bold text-gray-800 mb-4">{item.data.title}</h1>
		{item.data.category && (
			<span class="inline-block px-3 py-1 bg-purple-100 text-purple-800 rounded-full text-sm mb-4">
				{item.data.category}
			</span>
		)}
		<img src={item.data.image} alt={item.data.title} class="w-full h-96 object-cover rounded-lg mb-6" />
		<div class="prose prose-lg max-w-none">
			<Content />
		</div>
	</article>
</GalleryLayout>
